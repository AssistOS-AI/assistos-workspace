{"name":"generate chapters","content":"({\nstart: function(ideas, userPrompt, documentId){\nlet document = webSkel.currentUser.space.getDocument(documentId);\nif(userPrompt){\n this.prompt = ` ${userPrompt} :\"${ideas}\" and \"${document.getMainIdeas()}\". Please put all chapters in an array. A chapter should have the following structure: \n {title:\"Chapter Title\", paragraphs:[{text:\"paragraph 1 text\", mainIdea:\"paragraph 1 summary\"}, {text:\"paragraph 2 \n text\", mainIdea:\"paragraph 2 summary\"}, ... {text:\"paragraph n text\", mainIdea:\"paragraph n summary\"}]}.`;\n}else{\n this.prompt = `Please generate chapters based on the following array of ideas: \"${ideas}\". Take into consideration the current ideas that are present in the document: \"${document.getMainIdeas()}\".Please put all chapters in an array. Generate one chapter per idea. A chapter should have the following structure: \n {title:\"Chapter Title\", paragraphs:[{text:\"paragraph 1 text\", mainIdea:\"paragraph 1 summary\"}, {text:\"paragraph 2 \n text\", mainIdea:\"paragraph 2 summary\"}, ... {text:\"paragraph n text\", mainIdea:\"paragraph n summary\"}]}.`;\n}\n\nthis.setDefaultValues();\nthis.setIntelligenceLevel(3);\nthis.execute();\n},\nexecute: async function(){\nlet chapters = await this.request(this.prompt);\ntry{\nJSON.parse(chapters);\n}catch(e){\nthis.fail(e);\n}\nthis.return(chapters);\n}\n})","id":"2Piuqy6QAW4s","description":"generates chapters based on an array of ideas"}