{"name":"generate paragraphs","content":"({\nstart: function(ideas, documentId, chapterId, prompt, paragraphsNr){\nlet document = webSkel.currentUser.space.getDocument(documentId);\nlet chapter = document.getChapter(chapterId);\nthis.prompt = `${prompt || \"Please generate paragraphs based on the following array of ideas\"}: \"${ideas}\" and \"${chapter.getMainIdeas()}\". Generate ${paragraphsNr || \"3\"}. The responseÂ should have the following structure: [{\"text\":\"paragraph 1 text\", \"mainIdea\": \"summary of paragraph 1\"}, {\"text\":\"paragraph 2 text\", \"mainIdea\": \"summary of paragraph 2\"}, ... , {\"text\":\"paragraph n text\", \"mainIdea\": \"summary of paragraph n\"}].`;\nthis.setDefaultValues();\nthis.setIntelligenceLevel(3);\nthis.execute(document, chapter);\n},\nexecute: async function(document, chapter){\nlet paragraphs = await this.request(this.prompt);\ntry{\nlet paragraphsObj = JSON.parse(paragraphs);\nawait chapter.addParagraphs(paragraphsObj);\nawait documentFactory.updateDocument(webSkel.currentUser.space.id, document);\nawait webSkel.changeToDynamicPage(\"manage-paragraphs-page\",`documents/${document.id}/manage-paragraphs-page/${chapter.id}`);\n\n}catch(e){\nthis.fail(e);\n}\nthis.return(paragraphs);\n}\n})","id":"UikYz7YD2wCm","description":"generates paragraphs based on some ideas"}