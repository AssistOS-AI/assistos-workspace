{"name":"AddParagraph","content":"({\nstart: async function(documentId, chapterId){\n       try{\n\t\tlet document = webSkel.currentUser.space.getDocument(documentId);\n\t\tlet chapter = document.getChapter(chapterId);\n        \tlet newParagraphId= webSkel.getService(\"UtilsService\").generateId();\n        \tlet position = chapter.paragraphs.length;\n        \tif(webSkel.currentUser.space.currentParagraphId){\n            \t\tposition = chapter.getParagraphIndex(webSkel.currentUser.space.currentParagraphId) + 1;\n        \t}\n        \tawait chapter.addParagraph({id: newParagraphId, text:\"\"}, position);\n\t\tawait documentFactory.updateDocument(webSkel.currentUser.space.id, document);\n        \twebSkel.currentUser.space.currentParagraphId = newParagraphId;\n        \twebSkel.currentUser.space.currentChapterId = chapter.id;\n        \tthis.return(chapterId);\n        }catch(e){\n            \tthis.fail(e);\n            }\n    }\n})","id":"5VXtDM6HjS5L","description":"Adds a new paragraph to a chapter","tags":["presenters","agents","documents"]}